To download only Genes involved in a ec reaction use this url:
curl http://rest.kegg.jp/link/genes/ec:1.1.1.1 -o output
multiple entries:
curl http://rest.kegg.jp/link/genes/ec:1.1.1.1+ec:1.1.1.2 -o output

works from the shell

to download in perl need this module:
use LWP::Simple ();


1 Script:
Fetch_genes: use Kegg to download sequences associated to a EC number and make a blast against DataBase

2 Script:
DataBase_network.pl: use file generated by Fetch_genes.pl and by ./4_network_constuction.pl and prints genes related to other genes

3 Script 
Gen-gen_adjacency_matrix.pl: use file of gen pairs and makes an adjacency matrix using the list of blasted genes.


The first step was running a blast of the arabidopsis database against all the uniprot entries with a search query:
function: enzyme classification [EC] *
and reviewed yes
file: uniprot-ec%3A-+AND+reviewed%3Ayes.fasta
annotation of that file: uniprot-ec%3A-+AND+reviewed%3Ayes.tab

blast:
makeblastdb -in yeast_mart_export.fa -dbtype prot -parse_seqids -hash_index -out yeast_mart_export 
blastp -query uniprot-ec%3A-+AND+reviewed%3Ayes.fasta -db yeast_mart_export -out ../Results/alluniprot.blasted -outfmt 7 -evalue 5e-2 -num_threads 5

the blast results were formated usign the Rscript blast.R

to replace gene name of uniprot for EC number annotation the script used was:
./1_filter_blast_results_dictionary.pl ../Data/uniprot_EC_dictionary.txt ../Results/blasted_query_gene.txt 

after that the egdelist was created using:
./2_DataBase_network_no_duplicates_nodot_plusEC.pl ../Results/Blasted_genes_plusGS.list ../../../Metabolic_network/Results/network.reactions_slim.filter_40

filtered for keeping only edges with at least one gold standard
./7_filter_bignet_GS.pl ../Data/arab_GS_EC-gene_GO.txt ../Results/Gen-Gen.list 

a list of unnanotated genes was created:
./8_unannotated_GenesID.pl ../Data/arab_GS_EC-gene_GO.txt ../Results/Gen-Gen.edgelist_GS-GO_filtered.txt 
